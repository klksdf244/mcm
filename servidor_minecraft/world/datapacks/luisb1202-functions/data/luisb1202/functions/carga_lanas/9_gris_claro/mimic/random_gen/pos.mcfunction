kill @e[tag=9_mimic_pos]
execute as @e[tag=9_mimic_cofre,tag=!9_mimic_cofre_manual] at @s run function luisb1202:carga_lanas/9_gris_claro/mimic/cofre/muy_lejos
scoreboard players set 9_mimic_time danom 0

summon armor_stand ~ ~ ~ {Rotation:[36f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[72f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[108f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[144f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[180f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[216f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[252f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[288f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[324f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[360f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos1"],DisabledSlots:4144959}

summon armor_stand ~ ~ ~ {Rotation:[36f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[72f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[108f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[144f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[180f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[216f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[252f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[288f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[324f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[360f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos2"],DisabledSlots:4144959}

summon armor_stand ~ ~ ~ {Rotation:[36f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[72f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[108f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[144f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[180f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[216f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[252f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[288f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[324f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}
summon armor_stand ~ ~ ~ {Rotation:[360f],NoGravity:1b,Silent:1b,Invulnerable:1b,Small:1b,Marker:1b,Invisible:1b,Tags:["9_mimic_pos","9_mimic_pos3"],DisabledSlots:4144959}

execute if predicate luisb1202:random2 as @e[tag=9_mimic_pos] at @s run tp @s ~ ~ ~ ~18 ~
execute as @e[tag=9_mimic_pos1] at @s run tp @s ^ ^ ^15
execute as @e[tag=9_mimic_pos2] at @s run tp @s ^ ^ ^20
execute as @e[tag=9_mimic_pos3] at @s run tp @s ^ ^ ^25

execute as @a positioned ^ ^ ^100 run kill @e[tag=9_mimic_pos,distance=..100]

execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground if block ~ ~-2 ~ #luisb1202:noground if block ~ ~-3 ~ #luisb1202:noground if block ~ ~-4 ~ #luisb1202:noground run kill @s

execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground run tp @s ~ ~-1 ~
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground run tp @s ~ ~-1 ~
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground run tp @s ~ ~-1 ~
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground run tp @s ~ ~-1 ~

execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~ #luisb1202:noground run tp @s ~ ~1 ~
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~ #luisb1202:noground run tp @s ~ ~1 ~
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~ #luisb1202:noground run tp @s ~ ~1 ~
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~ #luisb1202:noground run tp @s ~ ~1 ~

execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~ #luisb1202:noground run kill @s
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ #luisb1202:noground run kill @s
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~1 ~ #luisb1202:noground run kill @s
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ water run kill @s
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ lava run kill @s
execute as @e[tag=9_mimic_pos] at @s if block ~ ~-1 ~ barrier run kill @s

execute as @e[tag=9_mimic_pos] run scoreboard players add @s danom 0
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~1 #luisb1202:noground run scoreboard players add @s danom 1
execute as @e[tag=9_mimic_pos] at @s unless block ~ ~ ~-1 #luisb1202:noground run scoreboard players add @s danom 1
execute as @e[tag=9_mimic_pos] at @s unless block ~1 ~ ~ #luisb1202:noground run scoreboard players add @s danom 1
execute as @e[tag=9_mimic_pos] at @s unless block ~-1 ~ ~ #luisb1202:noground run scoreboard players add @s danom 1

kill @e[tag=9_mimic_pos,scores={danom=4}]
execute if entity @e[tag=9_mimic_pos,scores={danom=2..}] run kill @e[tag=9_mimic_pos,scores={danom=..1}]
execute if entity @e[tag=9_mimic_pos,scores={danom=1}] run kill @e[tag=9_mimic_pos,scores={danom=..0}]

execute as @e[tag=9_mimic_pos,sort=random,limit=1] at @s run tag @s add 9_mimic_target

execute as @e[tag=9_mimic_target] at @s if block ~ ~-0.1 ~ #luisb1202:noground run tp @s ~ ~-0.1 ~
execute as @e[tag=9_mimic_target] at @s if block ~ ~-0.1 ~ #luisb1202:noground run tp @s ~ ~-0.1 ~
execute as @e[tag=9_mimic_target] at @s if block ~ ~-0.1 ~ #luisb1202:noground run tp @s ~ ~-0.1 ~
execute as @e[tag=9_mimic_target] at @s if block ~ ~-0.1 ~ #luisb1202:noground run tp @s ~ ~-0.1 ~
execute as @e[tag=9_mimic_target] at @s if block ~ ~-0.1 ~ #luisb1202:noground run tp @s ~ ~-0.1 ~

execute if entity @s[scores={id_lana=1..13}] at @e[tag=9_mimic_target] run function luisb1202:carga_lanas/9_gris_claro/mimic/cofre/gen
execute if entity @s[scores={id_lana=14..16}] at @e[tag=9_mimic_target] run function luisb1202:carga_lanas/9_gris_claro/mimic/cofre/gen_rey

kill @e[tag=9_mimic_pos]

execute unless entity @e[tag=9_mimic_cofre,tag=!9_mimic_cofre_manual] run scoreboard players set 9_mimic_time danom 540
