scoreboard players add b4_combo1_t boss 1

execute if score b4_combo1_t boss matches 6 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[30f,30f,165f],RightArm:[30f,30f,-165f],Head:[180f,0f,0f]}
execute if score b4_combo1_t boss matches 8 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[40f,30f,165f],RightArm:[40f,30f,-165f],Head:[180f,0f,0f]}
execute if score b4_combo1_t boss matches 10 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[20f,30f,165f],RightArm:[20f,30f,-165f],Head:[180f,0f,0f]}
execute if score b4_combo1_t boss matches 11 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[-30f,30f,165f],RightArm:[-30f,30f,-165f],Head:[180f,0f,0f]}

execute if score b4_combo1_t boss matches 10 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[-30f,30f,165f],RightArm:[-30f,30f,-165f],Head:[180f,0f,0f],Body:[0f,-60f,0f]}
execute if score b4_combo1_t boss matches 12 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[-30f,30f,165f],RightArm:[-30f,30f,-165f],Head:[180f,0f,0f]}
execute if score b4_combo1_t boss matches 14 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[-30f,30f,165f],RightArm:[-30f,30f,-165f],Head:[180f,0f,0f],Body:[0f,-40f,0f]}
execute if score b4_combo1_t boss matches 16 run data modify entity @e[tag=b4_aux_as,limit=1] Pose merge value {LeftArm:[-110f,10f,0f],RightArm:[-110f,-50f,0f],Body:[0f,-20f,0f]}

execute if score b4_combo1_t boss matches 2 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,-25f,0f],RightLeg:[-3f,0f,0f],LeftLeg:[6f,0f,0f],Body:[0f,-15f,0f]}
execute if score b4_combo1_t boss matches 4 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,-50f,0f],RightLeg:[-8f,0f,0f],LeftLeg:[8f,0f,0f],Body:[0f,-30f,0f]}
execute if score b4_combo1_t boss matches 6 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,-70f,0f],RightLeg:[-12f,0f,0f],LeftLeg:[12f,0f,0f],Body:[0f,-45f,0f]}
execute if score b4_combo1_t boss matches 8 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,-80f,0f],RightLeg:[-16f,0f,0f],LeftLeg:[16f,0f,0f],Body:[0f,-60f,0f]}


execute if score b4_combo1_t boss matches 14 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,20f,0f],RightLeg:[-16f,2f,0f],LeftLeg:[16f,2f,0f],Body:[0f,-40f,0f]}
execute if score b4_combo1_t boss matches 16 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,40f,0f],RightLeg:[-18f,4f,0f],LeftLeg:[18f,4f,0f],Body:[0f,-20f,0f]}
execute if score b4_combo1_t boss matches 18 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,75f,0f],RightLeg:[-20f,6f,0f],LeftLeg:[20f,6f,0f],Body:[0f,0f,0f]}
execute if score b4_combo1_t boss matches 20 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,82f,0f],RightLeg:[-22f,8f,0f],LeftLeg:[22f,8f,0f],Body:[0f,0f,0f]}
execute if score b4_combo1_t boss matches 22 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[0f,0f,170f],RightArm:[0f,0f,-170f],Head:[0f,85f,0f],RightLeg:[-24f,10f,0f],LeftLeg:[24f,10f,0f],Body:[0f,0f,0f]}


execute if score b4_combo1_t boss matches 28 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[330f,5f,-70f],RightArm:[290f,310f,0f],Head:[0f,0f,0f],RightLeg:[-12f,0f,0f],LeftLeg:[18f,0f,0f],Body:[0f,-15f,0f]}
execute if score b4_combo1_t boss matches 30 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[320f,15f,-40f],RightArm:[300f,320f,0f],Head:[0f,-20f,0f],RightLeg:[-4f,0f,0f],LeftLeg:[4f,0f,0f],Body:[0f,-25f,0f]}
execute if score b4_combo1_t boss matches 32 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[315f,20f,-20f],RightArm:[310f,330f,0f],Head:[0f,-50f,0f],RightLeg:[8f,0f,0f],LeftLeg:[-8f,0f,0f],Body:[0f,-35f,0f]}
execute if score b4_combo1_t boss matches 34 run data modify entity @e[tag=b4_as,limit=1] Pose merge value {LeftArm:[312f,26f,-0f],RightArm:[310f,330f,0f],Head:[0f,-95f,0f],RightLeg:[20f,0f,0f],LeftLeg:[-20f,0f,0f],Body:[0f,-45f,0f]}

execute if score b4_combo1_t boss matches 28 run kill @e[tag=b4_aux_as,limit=1]



execute if score b4_combo1_t boss matches 3..15 as @e[tag=b4_as] at @s run tp @s ~ ~ ~ ~16 ~
execute if score b4_combo1_t boss matches 16..24 as @e[tag=b4_as] at @s run tp @s ~ ~ ~ ~2 ~

execute if score b4_combo1_t boss matches 3..15 as @e[tag=b4_espada_as] at @s rotated as @e[tag=b4_dir_as,limit=1] run tp @s ^ ^ ^0.15
execute if score b4_combo1_t boss matches 3..15 as @e[tag=b4_as,limit=1] at @s rotated as @e[tag=b4_dir_as,limit=1] run tp @s ^ ^ ^0.15

execute if score b4_combo1_t boss matches 28..30 as @e[tag=b4_as] at @s run tp @s ~ ~ ~ ~57 ~
execute if score b4_combo1_t boss matches 31..33 as @e[tag=b4_as] at @s run tp @s ~ ~ ~ ~6 ~

execute if score b4_combo1_t boss matches 31..33 as @e[tag=b4_espada_as] at @s rotated as @e[tag=b4_dir_as,limit=1] run tp @s ^ ^ ^0.2
execute if score b4_combo1_t boss matches 31..33 as @e[tag=b4_as,limit=1] at @s rotated as @e[tag=b4_dir_as,limit=1] run tp @s ^ ^ ^0.2

#hit
execute if score b4_combo1_t boss matches 30..35 as @a[tag=!b4_h1_hit,gamemode=!spectator] at @s positioned ~ ~-0.5 ~ if entity @e[tag=b4_espada_as,scores={b4_espada_id=0},distance=..2] if entity @e[tag=b4_as,distance=..2.7] run function luisb1202:bossfight/b4/h1/hit
execute if score b4_combo1_t boss matches 30..35 as @e[tag=!b4_h1_hit,tag=koros_copia_centro,limit=1] at @s positioned ~ ~-0.5 ~ if entity @e[tag=b4_espada_as,scores={b4_espada_id=0},distance=..2] run function luisb1202:bossfight/b4/h1/hit


execute if score b4_combo1_t boss matches ..34 run schedule function luisb1202:bossfight/b4/thar_kroo/combo4/run 1t
execute if score b4_combo1_t boss matches 35.. run function luisb1202:bossfight/b4/thar_kroo/combo4/end

execute if score b4_combo1_t boss matches 1.. at @e[tag=b4_espada_core,scores={b4_espada_id=0}] positioned ^ ^2.2 ^ run particle dust 1 1 1 1 ~ ~1.5 ~ 0 1000 0 1 0

#sfx
execute if score b4_combo1_t boss matches 2 at @e[tag=b4_as] run playsound minecraft:item.trident.throw master @a ~ ~ ~ 0.6 0.6
execute if score b4_combo1_t boss matches 7 at @e[tag=b4_as] run playsound minecraft:item.trident.throw master @a ~ ~ ~ 0.6 0.6
execute if score b4_combo1_t boss matches 12 at @e[tag=b4_as] run playsound minecraft:item.trident.throw master @a ~ ~ ~ 0.6 0.6

execute if score b4_combo1_t boss matches 26 at @e[tag=b4_as] run playsound minecraft:item.trident.throw master @a ~ ~ ~ 1.2 0


tp @e[tag=b4_aux_as] @e[tag=b4_as,limit=1]
execute if score b4_combo1_t boss matches ..15 as @e[tag=b4_aux_as,limit=1] at @s run tp @s ~ ~0.4 ~ ~ 0
execute if score b4_combo1_t boss matches 16.. as @e[tag=b4_aux_as,limit=1] at @s run tp @s ~ ~0 ~ ~ 0